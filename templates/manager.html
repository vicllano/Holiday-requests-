{% extends 'base.html' %}

{% block title %}Manager Approvals{% endblock %}

{% block header %}Manager Approvals{% endblock %}

{% block content %}
    
    <div class="container-fluid">
      <ul class="nav nav-tabs">
        <li class="nav-item">
          <a class="nav-link" aria-current="page" href="{{ url_for('index') }}">Submit a Request</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{{ url_for('request_status') }}">Request Status</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="{{ url_for('manager') }}">Manager Approvals</a>
        </li>
      </ul>
    </div> 

    <br/>

    <div class="container">
      {% if update_confirmation %}
      <div class="alert alert-success" role="alert">
        {{ update_confirmation }}
      </div>
      {% endif %}
      <h1 style="color: black">Holiday Requests</h1>
      <br/>       
        <table class="table table-striped table-hover table-bordered">
          <thead>
            <tr>
              <th scope="col">Id</th>
              <th scope="col">Sumission Date</th>
              <th scope="col">First Name</th>
              <th scope="col">Last Name</th>
              <th scope="col">Email</th>
              <th scope="col">Start Date</th>
              <th scope="col">End Date</th>
              <th scope="col">Status</th>
              <th scope="col"></th>
            </tr>
          </thead>
          <tbody>
            {% for x in all_requests %}
              <tr>
                <th scope="row">{{ x.id }}</th>
                <td>{{ x.date_created }}</td>
                <td>{{ x.first_name }}</td>
                <td>{{ x.last_name }}</td>
                <td>{{ x.email }}</td>
                <td>{{ x.start_date }}</td>
                <td>{{ x.end_date }}</td>
                <td>{{ x.status }}</td>
                <td><a href="/approvals/{{ x.id }}" class="btn btn-outline-primary btn-sm">Update</a></td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
    </div>

{% endblock %}